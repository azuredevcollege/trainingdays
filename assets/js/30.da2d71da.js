(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{540:function(t,a,e){t.exports=e.p+"assets/img/visitreports-deployment-task.d17ca7aa.png"},541:function(t,a,e){t.exports=e.p+"assets/img/textanalytics-deployment-task.2d356129.png"},542:function(t,a,e){t.exports=e.p+"assets/img/applicationinsights-appmap.924da283.png"},543:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1oAAAAwCAYAAAAIJQs/AAABRmlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAyCDIwM6gyqCWmFxc4BgQ4ANUwgCjUcG3a0DVQHBZF2QW54nAXBnNU2vklt+9InA/phlTPQrgSkktTgbSf4A4PbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOD1cVcI9QkJcgz3dHEl4F6SQUlqRQmIds4vqCzKTM8oUXAEhlKqgmdesp6OgpGBkQEDAyjMIao/3wCHJaMYB0KsQIyBwWIGUPAhQiwe6IftcgwM/H0IMTWgfwW8GBgO7itILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y5jYGC+xcBw4BsAdn1gowPC4mEAAABWZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAOShgAHAAAAEgAAAESgAgAEAAAAAQAAA1qgAwAEAAAAAQAAADAAAAAAQVNDSUkAAABTY3JlZW5zaG90O5y4PgAAAdVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+ODU4PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6VXNlckNvbW1lbnQ+U2NyZWVuc2hvdDwvZXhpZjpVc2VyQ29tbWVudD4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjQ4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CuXUYLQAACEaSURBVHgB7Z0JvBVVHcf/KNtDNtkUZHkoKgKFbAKKiGJqClnmbm6lZvtuZWW2WVmZuS+Z2qLimmluBaIi8JTVkEDN2GQRUB4ovKei3e+x8xzum7l35t55990Hv//nc5eZOXOW3znzP//tnGn2XoZMJASEgBAQAkJACAgBISAEhIAQEAKpIbBTajkpIyEgBISAEBACQkAICAEhIASEgBBwCEjR0kAQAkJACAgBISAEhIAQEAJCQAikjIAUrZQBVXZCQAgIASEgBISAEBACQkAICAEpWhoDQkAICAEhIASEgBAQAkJACAiBlBGQopUyoMpOCAgBISAEhIAQEAJCQAgIASEgRUtjQAgIASEgBISAEBACQkAICAEhkDICUrRSBlTZCQEhIASEgBAQAkJACAgBISAEpGhpDAgBISAEhIAQEAJCQAgIASEgBFJGoHnK+Sk7ISAEhEBBCLy8ZKktW7HS1q5dZ9UbN1lNba3pfeoFQambhIAQEAJCQAg0CALNmjWz1q1aWYf27axr1y7Wu2cP27OyT4OUtT1k2iwjyLy3PTREbRACQqDpIfDWW2/ZnPkLbMHCRVbRrqN1697TOnTqZq1aV1jrija20847N71GqcZCQAgIASEgBLZTBN7dutVqtmy22pottmH9q/bqquVW80a1DRrQ34YOHmQtW7bcTlteWLOkaBWGm+4SAkKgSAQWLnrBZlTNts49etveA4dYy1ati8xRtwsBISAEhIAQEAKlRqC2ZrO9tHCerc8oXaMPGGYD+u9T6iqUbXkNpmht3LjR/vvf/9qqVatsw4YNtmXLFoUBle0wKN+K4aKuqKiwjh07Wvfu3a1v377Wvn37Bq3wjjp2S4n11GkzbMny1TbkwEOtTduG7c8GHSzKXAgIASEgBISAEHAIvLmp2ubOeNz69upu48aMbhBU8slopZRl4jQwdUULAObOnWtr1qyx3r17O+EYwbht27bWokWLOHVSGiFQh8Dbb79tb7zxhlVXV9vq1att6dKltvvuu9uQIUNSV7h29LFbKqwfnTzVqrdstcEHjI0MDVxc9VjdGNAfIdDUEdh35BH1mqAxXg+SRj+hfmr0LlAFGhiBsDGedpFbt75j86uesI5tWtiR48ellr2X0ZYvX2577723kwU7d+7s9IvsQpAb169fb8uWLXNyY69evRpEbswuN+w4VUVr8eLF9uyzz9qwYcNsv/32CytP54RA0Qg8//zzTpkfMWKE7bvvvkXnRwYau+Ewpo01nqzV6zfZ0IPGG1anKEIInXD0UVGXdV4INBkEHnzoEQsTbjTGy6sL1U/l1R+qTfoIRI3x9EsyF8E2d/oU261T21Q8W8hos2bNsgEDBtjAgQMTrQNjLTiyzMKFC2348OGpyY1xcUtt18H58+e7RhxzzDG26667xi1f6YRAYgR4yHr06GGPPPKI1dTU2ODBgxPnEbxBYzeIxrb/08SaNVmEC44ePyGnkrVtDXQkBISAEBACQkAINCUEMKTuP2qcTZ/8gHXLzP3FrNlCRvvXv/5lRx99tHXq1CkxDGzOQRRUnz597KGHHkpFbkxSiVTeo4WmibY4ceJEKVlJ0FfaghFAmWe8Me4Yf4WSxm5+5NLAGovS9KpZNuSgwyLDBfPXRCmEgBAQAkJACAiBpoAAuwY7ZWvmLEMGKISQ0VCyTjzxxIKUrGCZKGnkQ37FyI3BPOP8L1rRImZy5syZ9pGPfCQ0TjJOJZRGCBSCAOv+Dj/8cJsxY4YxDpOSxm58xIrFmi3cu+5RaW12aRe/UKUUAkJACAgBISAEmiwCbdt3dDsLIwMkJWQ0wgXxZPkt499991176slptmTJkqTZufTkQ37kW4jcWEihRYcOsvHFhz70ocxLy7oWUr7uEQJFIdCtWzcbNGiQW7N1yCGHJMpLYzcRXFYM1gsXv2ijxh+brEClFgJCQAgIASEgBBodgarJ99vC+bNtxfJlri49e/W2AYOH2cgY8/o+g4ZaVSaEcNSIoYnagYzGmqzscMF5c+ZZ9YZqq6ysTJSfT0x+5Ev+SeVGn0eS36I8WmiDr7zyStFrZJJUOFfaSZMmuV1GcqXJvoY7k63nt2findTs2MfOfYXQq6++anfffXcht5bkHtZorVixIpF1ohRjt5Dx2NCArVu3zu666y5XTPB/3HILwfrlJUtt1649rEUJXmKY5P3rixYtspUrV8ZtutIJASEgBGIj0BR5EfJcGiFVhGa98MILoVixuy2bpiFXiMofgRY7N7ObL7vI7r7tVlv4/AInZyE/8Z9zXCNNLuIdmR267G7IAnGJMthdkHXinpBhvRz7XuZk8NiniftLvuRPOQ1NRSlavCdrzz33tJ0zcZj56N///rdbAM97tRqKTj75ZHvppZe2yf7vf/+7K5eFedkfhMYf/OAHNmbMmG3uKdXBjTfemMruJ2eccYY999xzodWGabIdOu+g4l1Uxx13nL3++uv10n75y192+NTW1ta7hkB6wgkn1DtfLid4bQDv12I8xqUkY/e0007bZuwcf/zxsSaJsPEYt35ppLv33ntdvX/4wx/WZcfzQYwyFPxflyDPn0KwXrZipXXs3C1PzsVdhr/wLOPd3G233VxowLx583Jm+slPftKFD+RMFHIRK9j1118fcqX8Tl1++eUGNiIhIARKg0BT5kWXXnqp3XrrrUUBdd999xkyydatW0Pzad68uf3mN7+xn/3sZ6HXdbK8ELj0wi86pSqqVihcpMlHu3bpZsgCcQkZjS3cfcgg911x+VV23dXX29p1a23OrNl2zZXX2o3X3eQ2t4ibr09HvmyOkURu9Pcm/S1K0UJp6tmzZ6wyvXXH/8a6KYVE48aNMxQFPr/4xS+sXbt2dcd/+9vf7Etf+pL9+c9/TqGk5FmkhcVf//pXwzsRRpTxy1/+0jZt2uS8j+zegqclSFdeeaXxacrEOEyixCcZu8QEn3766e6BnDZtmltI+cUv5mcsjY0nnivGe9rjOynWa9eus7btOzQYHGvXrjWU39atW9vtt9/uPHatWrUy+i2KYK48MwcccEBUksjz4MomLOVOvMvw5z//ucOl3Ouq+gmB7QGBps6L/vnPf9qoUaMK7grWS3//+983jHxRr/jB4P31r3/d7rjjDveOzIIL040NjsD8px/LRH284srBcMy7qDzxn3MQaUibi9q262jIAnEJGQ0nQZBOP+M0O+nUk9yme/sNHGCnnHayHX/icQXPcbzrN4ncGKxLkv9FKVobNmyoFzuZpHCfFkGQ9yHxAOJx8Q0n/8997nPOQk2nfvvb33YvHuM9XbwEmQ+Wk82bN/us6v3usssuLm/y32OPPayioqLuGG12ypQpdt1117n7KOsrX/mKC4Uk79///vfug4Wc8tn0A8JSg/LCOdKdc845kXX42Mc+Zj/96U/dfXG/8MJ5PCgDBREizPHCCy+0vfbay2FCud/97nedEnXuuec6oXH69OnbFNO/f38766yz3EYlbInOOwQef/zxujQPPPCAfe9733MCat3J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"},544:function(t,a,e){t.exports=e.p+"assets/img/ai-operation-details.3653126b.png"},545:function(t,a,e){t.exports=e.p+"assets/img/operation-drill.e9a89a3a.png"},767:function(t,a,e){"use strict";e.r(a);var s=e(10),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ðŸ’Ž-breakout-create-ci-cd-pipelines-to-deploy-the-azure-dev-college-sample-application-to-azure-ðŸ’Ž"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ’Ž-breakout-create-ci-cd-pipelines-to-deploy-the-azure-dev-college-sample-application-to-azure-ðŸ’Ž"}},[t._v("#")]),t._v(" ðŸ’Ž Breakout: Create CI/CD Pipelines to deploy the Azure Dev College Sample Application to Azure ðŸ’Ž")]),t._v(" "),a("h2",{attrs:{id:"here-is-what-you-will-learn-ðŸŽ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#here-is-what-you-will-learn-ðŸŽ¯"}},[t._v("#")]),t._v(" Here is what you will learn ðŸŽ¯")]),t._v(" "),a("p",[t._v("In this breakout lesson we will deploy the sample application to Azure.")]),t._v(" "),a("p",[t._v("In "),a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-3.html"}},[t._v("Challenge 3")]),t._v(", "),a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-4.html"}},[t._v("Challenge 4")]),t._v(" and "),a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-5.html"}},[t._v("Challenge 5")]),t._v(" you have learned how to create a CI/CD Pipeline to continuously and consistently deploy services to Azure.\nYou have learned how to use Pull Requests, validation builds and how you track your work with Azure Boards. You may have noticed that there is still some work left to do until the sample application is deployed to your Development and Testing stage.")],1),t._v(" "),a("p",[t._v("In this Breakout session we want you to deploy the remaining Microservices to your stages:")]),t._v(" "),a("ul",[a("li",[t._v("SCM Resource API")]),t._v(" "),a("li",[t._v("SCM Search API")]),t._v(" "),a("li",[t._v("SCM Visitreports API")]),t._v(" "),a("li",[t._v("SCM Textanalytics")])]),t._v(" "),a("p",[t._v("As in "),a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-4.html"}},[t._v("Challenge 4")]),t._v(" and "),a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-5.html"}},[t._v("Challenge 5")]),t._v(" we will perform the following steps for each service:")],1),t._v(" "),a("ol",[a("li",[t._v("Set the corresponding User Stories to active")]),t._v(" "),a("li",[t._v("Create a new feature branch and check it out")]),t._v(" "),a("li",[t._v("Create the CI Build definition and validate it")]),t._v(" "),a("li",[t._v("Create a the PR validation build")]),t._v(" "),a("li",[t._v("Create the CD build for the stages "),a("em",[t._v("Development")]),t._v(" and "),a("em",[t._v("Testing")])]),t._v(" "),a("li",[t._v("Merge the feature branch into the master branch")]),t._v(" "),a("li",[t._v("Update your master branch's policies to trigger the PR build to validate a Pull Request")]),t._v(" "),a("li",[t._v("Test the build flow")]),t._v(" "),a("li",[t._v("Update the SCM-Frontend-CD Release Pipeline, set the missing service endpoint in the variable section and run the pipeline")]),t._v(" "),a("li",[t._v("Complete the User Stories")])]),t._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table of Contents")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#scm-resource-api"}},[t._v("SCM Resource API")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#scm-search-api"}},[t._v("SCM Search API")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#scm-visitreports-api"}},[t._v("SCM Visitreports API")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#scm-textanalytics"}},[t._v("SCM Textanalytics")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#test-the-application"}},[t._v("Test the Application")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#application-insights"}},[t._v("Application Insights")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#congratulation"}},[t._v("Congratulation")])])]),t._v(" "),a("h2",{attrs:{id:"scm-resource-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scm-resource-api"}},[t._v("#")]),t._v(" SCM Resource API")]),t._v(" "),a("p",[t._v("This section covers the User Stories "),a("strong",[t._v("S6")]),t._v(" and "),a("strong",[t._v("S7")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"basics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basics"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Feature branch")])]),t._v(" "),a("td",[t._v("features/scmresourceapicicd")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Projects to build")])]),t._v(" "),a("td",[a("code",[t._v("apps/dotnetcore/Scm.Resources/Adc.Scm.Resources.Api")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("apps/dotnetcore/Scm.Resources/Adc.Scm.Resources.ImageResizer")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Project runtime")])]),t._v(" "),a("td",[t._v("dotnetcore "),a("br"),t._v(" ASP.NET Core "),a("br"),t._v(" AzureFunctions")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("ARM Templates")])]),t._v(" "),a("td",[a("code",[t._v("apps/infrastructure/templates/scm-resources-api-dotnetcore.json")])])])])]),t._v(" "),a("h3",{attrs:{id:"build-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-data"}},[t._v("#")]),t._v(" Build Data")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Build trigger path filters")])]),t._v(" "),a("td",[a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-resources-api-dotnetcore.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/dotnetcore/Scm.Resources/\\*")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CI Build name")])]),t._v(" "),a("td",[t._v("SCM-Resources-CI")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("PR Build name")])]),t._v(" "),a("td",[t._v("SCM-Resource-PR")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CD Build name")])]),t._v(" "),a("td",[t._v("SCM-Resources-CD")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-tasks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-tasks"}},[t._v("#")]),t._v(" CD Build Tasks")]),t._v(" "),a("ul",[a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-resources-api-dotnetcore.json")])]),t._v(" "),a("li",[t._v("Azure App Service Deploy --\x3e "),a("strong",[t._v("Adc.Scm.Resources.Api.zip")]),t._v(" "),a("ul",[a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("API App")])]),t._v(" "),a("li",[t._v("App Service name --\x3e "),a("strong",[t._v("$(ApiAppName)")])])])]),t._v(" "),a("li",[t._v("Azure App Service deploy --\x3e "),a("strong",[t._v("Adc.Scm.Resources.ImageResizer.zip")]),t._v(" "),a("ul",[a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("Function App on Windows")])]),t._v(" "),a("li",[t._v("App Service name --\x3e "),a("strong",[t._v("$(ResizerFunctionName)")])])])])]),t._v(" "),a("p",[t._v("CD Build agent runs on: "),a("strong",[t._v("Latest Ubuntu version")])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-development"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Development")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")]),t._v(" "),a("th",[t._v("ARM Template Parameter")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-DEV")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4scmresourceapi-dev")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("webAppName")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("B1")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("sku")])]),t._v(" "),a("tr",[a("td",[t._v("Use32BitWorker")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("use32bitworker")])]),t._v(" "),a("tr",[a("td",[t._v("AlwaysOn")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("alwaysOn")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4resdev (no spaces)")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("storageAccountName")])]),t._v(" "),a("tr",[a("td",[t._v("ResizerFunctionName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4resizer-dev")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("functionAppName")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Development")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("applicationInsightsName")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Development")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-testing"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Testing")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")]),t._v(" "),a("th",[t._v("ARM Template Parameter")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TEST")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4scmresourcesapi-test")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("webAppName")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("B1")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("sku")])]),t._v(" "),a("tr",[a("td",[t._v("Use32BitWorker")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("use32bitworker")])]),t._v(" "),a("tr",[a("td",[t._v("AlwaysOn")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("alwaysOn")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4restest (no spaces)")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("storageAccountName")])]),t._v(" "),a("tr",[a("td",[t._v("ResizerFunctionName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4resizer-test")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("functionAppName")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("applicationInsightsName")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")])])])]),t._v(" "),a("h4",{attrs:{id:"ci-build-yaml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci-build-yaml"}},[t._v("#")]),t._v(" CI Build YAML")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dotnetcore.json\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/dotnetcore/Scm.Resources/*\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build Scm Contacts\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vmImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" UseDotNet@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Acquire .NET Core Sdk 3.1.x'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("packageType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sdk\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3.1.x\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Restore\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" restore\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Resources/**/*.csproj'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Resources/**/*.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Publish\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" publish\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publishWebProjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Resources/Adc.Scm.Resources.Api/Adc.Scm.Resources.Api.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("output $(build.artifactstagingdirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipAfterPublish")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("True")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Publish\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" publish\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publishWebProjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Resources/Adc.Scm.Resources.ImageResizer/Adc.Scm.Resources.ImageResizer.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("output $(build.artifactstagingdirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipAfterPublish")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("True")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CopyFiles@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sourceFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("contents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n            scm-resources-api-dotnetcore.json")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PublishPipelineArtifact@1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifactName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drop\n")])])]),a("h4",{attrs:{id:"arm-template-override-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-template-override-parameters"}},[t._v("#")]),t._v(" ARM Template Override Parameters")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-webAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApiAppName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sku")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AppServicePlanSKU"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-use32bitworker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("Use32BitWorker"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-alwaysOn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AlwaysOn"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-storageAccountName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("StorageAccountName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-functionAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ResizerFunctionName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-applicationInsightsName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApplicationInsightsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-serviceBusNamespaceName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ServiceBusNamespaceName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])]),a("h2",{attrs:{id:"scm-search-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scm-search-api"}},[t._v("#")]),t._v(" SCM Search API")]),t._v(" "),a("p",[t._v("This section covers the User Stories "),a("strong",[t._v("S8")]),t._v(" and "),a("strong",[t._v("S9")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"basics-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basics-2"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Feature branch")])]),t._v(" "),a("td",[t._v("features/scmsearchapicicd*")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Projects to build")])]),t._v(" "),a("td",[a("code",[t._v("apps/dotnetcore/Scm.Search/Adc.Scm.Search.Api")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("apps/dotnetcore/Scm.Search/Adc.Scm.Search.Indexer")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Project runtime")])]),t._v(" "),a("td",[t._v("dotnetcore "),a("br"),t._v(" ASP.NET Core "),a("br"),t._v(" AzureFunctions")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("ARM Templates")])]),t._v(" "),a("td",[a("code",[t._v("apps/infrastructure/templates/scm-search-api-dotnetcore.json")])])])])]),t._v(" "),a("h3",{attrs:{id:"build-data-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-data-2"}},[t._v("#")]),t._v(" Build Data")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Build trigger path filters")])]),t._v(" "),a("td",[a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-search-api-dotnetcore.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/dotnetcore/Scm.Search/\\*")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CI Build name")])]),t._v(" "),a("td",[t._v("SCM-Search-CI")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("PR Build name")])]),t._v(" "),a("td",[t._v("SCM-Search-PR")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CD Build name")])]),t._v(" "),a("td",[t._v("SCM-Search-CD")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-tasks-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-tasks-2"}},[t._v("#")]),t._v(" CD Build Tasks")]),t._v(" "),a("ul",[a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-search-api-dotnetcore.json")])]),t._v(" "),a("li",[t._v("Azure App Service Deploy --\x3e "),a("strong",[t._v("Adc.Scm.Search.Api.zip")]),t._v(" "),a("ul",[a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("Web App on Windows")])]),t._v(" "),a("li",[t._v("App Service name --\x3e "),a("strong",[t._v("$(ApiAppName)")]),t._v("- Azure App Service Deploy --\x3e "),a("strong",[t._v("Adc.Scm.Search.Indexer.zip")])]),t._v(" "),a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("Function App on Windows")])]),t._v(" "),a("li",[t._v("App Service name --\x3e "),a("strong",[t._v("$(IndexerFunctionName)")])])])])]),t._v(" "),a("p",[t._v("CD Build agent runs on: "),a("strong",[t._v("Latest Ubuntu version")])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-development-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-development-2"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Development")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")]),t._v(" "),a("th",[t._v("ARM Template Parameter")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-DEV")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4scmsearchapi-dev")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("webAppName")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("B1")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("appPlanSKU")])]),t._v(" "),a("tr",[a("td",[t._v("Use32BitWorker")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("use32bitworker")])]),t._v(" "),a("tr",[a("td",[t._v("AlwaysOn")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("alwaysOn")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4srdev (no spaces)")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("storageAccountName")])]),t._v(" "),a("tr",[a("td",[t._v("IndexerFunctionName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4indexer-dev")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("functionAppName")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Development")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("applicationInsightsName")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Development")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchServiceName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4search-dev")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("azureSearchServiceName")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchSKU")]),t._v(" "),a("td",[t._v("basic")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("azureSearchSKU")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchReplicaCount")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("azureSearchReplicaCount")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchPartitionCount")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Development")]),t._v(" "),a("td",[t._v("azureSearchPartitionCount")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-testing-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-testing-2"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Testing")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")]),t._v(" "),a("th",[t._v("ARM Template Parameter")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TEST")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4scmsearchapi-dev")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("webAppName")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("B1")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("appPlanSKU")])]),t._v(" "),a("tr",[a("td",[t._v("Use32BitWorker")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("use32bitworker")])]),t._v(" "),a("tr",[a("td",[t._v("AlwaysOn")]),t._v(" "),a("td",[t._v("true")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("alwaysOn")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4srdev (no spaces)")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("storageAccountName")])]),t._v(" "),a("tr",[a("td",[t._v("IndexerFunctionName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4indexer-dev")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("functionAppName")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("applicationInsightsName")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchServiceName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4search-dev")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("azureSearchServiceName")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchSKU")]),t._v(" "),a("td",[t._v("basic")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("azureSearchSKU")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchReplicaCount")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("azureSearchReplicaCount")])]),t._v(" "),a("tr",[a("td",[t._v("AzureSearchPartitionCount")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Testing")]),t._v(" "),a("td",[t._v("azureSearchPartitionCount")])])])]),t._v(" "),a("h4",{attrs:{id:"ci-build-yaml-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci-build-yaml-2"}},[t._v("#")]),t._v(" CI Build YAML")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dotnetcore.json\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/dotnetcore/Scm.Search/*\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build Scm Search\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("vmImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" UseDotNet@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Acquire .NET Core Sdk 3.1.x'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("packageType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sdk\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3.1.x\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Restore\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" restore\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Search/**/*.csproj'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Search/**/*.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Publish\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" publish\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publishWebProjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Search/Adc.Scm.Search.Api/Adc.Scm.Search.Api.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("output $(build.artifactstagingdirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipAfterPublish")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("True")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DotNetCoreCLI@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Publish\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" publish\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publishWebProjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day4-azdevops/apps/dotnetcore/Scm.Search/Adc.Scm.Search.Indexer/Adc.Scm.Search.Indexer.csproj'")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("arguments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("configuration Release "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("output $(build.artifactstagingdirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipAfterPublish")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("True")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CopyFiles@2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sourceFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("contents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n            scm-search-api-dotnetcore.json")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PublishPipelineArtifact@1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifactName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drop\n")])])]),a("h4",{attrs:{id:"arm-template-override-parameters-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-template-override-parameters-2"}},[t._v("#")]),t._v(" ARM Template Override Parameters")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-webAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApiAppName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-appPlanSKU")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AppServicePlanSKU"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-use32bitworker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("Use32BitWorker"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-alwaysOn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AlwaysOn"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-storageAccountName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("StorageAccountName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-functionAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("IndexerFunctionName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-applicationInsightsName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApplicationInsightsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-serviceBusNamespaceName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ServiceBusNamespaceName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-azureSearchServiceName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AzureSearchServiceName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-azureSearchSKU")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AzureSearchSKU"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-azureSearchReplicaCount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AzureSearchReplicaCount"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-azureSearchPartitionCount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AzureSearchPartitionCount"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])]),a("h2",{attrs:{id:"scm-visitreports-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scm-visitreports-api"}},[t._v("#")]),t._v(" SCM Visitreports API")]),t._v(" "),a("p",[t._v("This section covers the User Stories "),a("strong",[t._v("S10")]),t._v(" and "),a("strong",[t._v("S11")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"basics-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basics-3"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Feature branch")])]),t._v(" "),a("td",[t._v("features/scmvisitreportscicd")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Projects to build")])]),t._v(" "),a("td",[a("code",[t._v("apps/nodejs/visitreport")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Project runtime")])]),t._v(" "),a("td",[t._v("Node.js")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("ARM Templates")])]),t._v(" "),a("td",[a("code",[t._v("apps/infrastructure/templates/scm-visitreport-nodejs-db.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("apps/infrastructure/templates/scm-visitreport-nodejs-infra.json")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“First deploy "),a("code",[t._v("scm-visitreport-nodejs-db.json")]),t._v(", then deploy "),a("code",[t._v("scm-visitreport-nodejs-infra.json")])])]),t._v(" "),a("h3",{attrs:{id:"build-data-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-data-3"}},[t._v("#")]),t._v(" Build Data")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Build trigger path filters")])]),t._v(" "),a("td",[a("code",[t._v("day4-azdevops/apps/nodejs/visitreport/\\*")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-visitreport-nodejs-db.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-visitreport-nodejs-infra.json")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CI Build name")])]),t._v(" "),a("td",[t._v("SCM-Visitreports-CI")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("PR Build name")])]),t._v(" "),a("td",[t._v("SCM-Visitreports-PR")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CD Build name")])]),t._v(" "),a("td",[t._v("SCM-Visitreports-CD")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-tasks-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-tasks-3"}},[t._v("#")]),t._v(" CD Build Tasks")]),t._v(" "),a("ul",[a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-visitreport-nodejs-db.json")])]),t._v(" "),a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-visitreport-nodejs-infra.json")])]),t._v(" "),a("li",[t._v("Azure App Service deploy --\x3e "),a("strong",[t._v("Adc.Scm.VisitReports.zip")]),t._v(" "),a("ul",[a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("Web App on Linux")])]),t._v(" "),a("li",[t._v("App Service name --\x3e "),a("strong",[t._v("$(ApiAppName)")])])])])]),t._v(" "),a("p",[t._v("CD Build agent runs on: "),a("strong",[t._v("Latest Ubuntu version")])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-development-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-development-3"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Development")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-DEV")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ResourceGroupNameTux")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TUX-DEV")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4vsapi-dev")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("Standard")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKUCode")]),t._v(" "),a("td",[t._v("S1")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Development")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("your Cosmos Account Name of stage Development")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDatabaseName")]),t._v(" "),a("td",[t._v("scmvisitreports")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDatabaseContainerName")]),t._v(" "),a("td",[t._v("visitreports")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Development")]),t._v(" "),a("td",[t._v("Development")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-testing-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-testing-3"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Testing")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TEST")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ResourceGroupNameTux")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TUX-TEST")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4vsapi-test")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("Standard")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("AppServicePlanSKUCode")]),t._v(" "),a("td",[t._v("S1")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("your Cosmos Account Name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDatabaseName")]),t._v(" "),a("td",[t._v("scmvisitreports")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDatabaseContainerName")]),t._v(" "),a("td",[t._v("visitreports")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])])])]),t._v(" "),a("h4",{attrs:{id:"variables-to-arm-template-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variables-to-arm-template-parameters"}},[t._v("#")]),t._v(" Variables to ARM Template Parameters")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“Make sure that you apply the ARM Template "),a("code",[t._v("scm-visitreport-nodejs-db.json")]),t._v(" to ResourceGroup "),a("strong",[t._v("ResourceGroupName")]),t._v(" and\nthat you apply the ARM Template "),a("code",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" to ResourceGroup "),a("strong",[t._v("ResourceGroupNameTux")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("ARM Template")]),t._v(" "),a("th",[t._v("ARM Template Parameter")]),t._v(" "),a("th",[t._v("Variable to use")]),t._v(" "),a("th",[t._v("Deploy to ResourceGroup")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("scm-visitreport-nodejs-db.json")]),t._v(" "),a("td",[t._v("cosmosDbAccount")]),t._v(" "),a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-db.json")]),t._v(" "),a("td",[t._v("cosmosDatabaseName")]),t._v(" "),a("td",[t._v("CosmosDatabaseName")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-db.json")]),t._v(" "),a("td",[t._v("cosmosDatabaseContainerName")]),t._v(" "),a("td",[t._v("CosmosDatabaseContainerName")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("sku")]),t._v(" "),a("td",[t._v("AppServicePlanSKU")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("skuCode")]),t._v(" "),a("td",[t._v("AppServicePlanSKUCode")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("webAppName")]),t._v(" "),a("td",[t._v("ApiAppName")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("applicationInsightsName")]),t._v(" "),a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("cosmosDbAccount")]),t._v(" "),a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")]),t._v(" "),a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])]),t._v(" "),a("tr",[a("td",[t._v("scm-visitreport-nodejs-infra.json")]),t._v(" "),a("td",[t._v("commonResGroup")]),t._v(" "),a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ResourceGroupNameTux")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“ To build a Node.js application you have to install NodeJs on your build agent first. After the installation you can run a bash script that executes "),a("code",[t._v("npm install")]),t._v(" in your project folder. Next, you can create a zip file and copy it to the artifacts staging directory to publish it in the next step.")])]),t._v(" "),a("h4",{attrs:{id:"ci-build-yaml-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci-build-yaml-3"}},[t._v("#")]),t._v(" CI Build YAML")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/nodejs/visitreport/*\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("visitreport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nodejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("db.json\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("visitreport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nodejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("infra.json\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NodeTool@0\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("versionSpec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12.x'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Install Node.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Bash@3\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("workingDirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$(Build.SourcesDirectory)/day4-azdevops/apps/nodejs/visitreport'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inline'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npm install'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ArchiveFiles@2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Archive build files'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rootFolderOrFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$(Build.SourcesDirectory)/day4-azdevops/apps/nodejs/visitreport'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("includeRootFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("archiveType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zip\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("archiveFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)/Adc.Scm.VisitReports.zip\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replaceExistingArchive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CopyFiles@2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sourceFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("contents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        scm-visitreport-nodejs-db.json\n        scm-visitreport-nodejs-infra.json")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PublishPipelineArtifact@1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifactName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drop\n")])])]),a("h4",{attrs:{id:"arm-template-override-parameters-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-template-override-parameters-3"}},[t._v("#")]),t._v(" ARM Template Override Parameters")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("scm-visitreport-nodejs-db.json")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-cosmosDbAccount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("CosmosDbAccount"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-cosmosDatabaseName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("CosmosDatabaseName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-cosmosDatabaseContainerName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("CosmosDatabaseContainerName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("scm-visitreport-nodejs-infra.json")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sku")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AppServicePlanSKU"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-skuCode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("AppServicePlanSKUCode"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-webAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApiAppName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-applicationInsightsName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApplicationInsightsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-cosmosDbAccount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("CosmosDbAccount"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-serviceBusNamespaceName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ServiceBusNamespaceName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-commonResGroup")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ResourceGroupName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“ Make sure that your AppService deployment task is configured as follows")]),t._v(" "),a("p",[a("img",{attrs:{src:e(540),alt:"AppService Deployment Task"}})])]),t._v(" "),a("h2",{attrs:{id:"scm-textanalytics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scm-textanalytics"}},[t._v("#")]),t._v(" SCM Textanalytics")]),t._v(" "),a("p",[t._v("This section covers the User Stories "),a("strong",[t._v("S12")]),t._v(" and "),a("strong",[t._v("S13")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"basics-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basics-4"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Feature branch")])]),t._v(" "),a("td",[t._v("features/scmtextanalyticscicd")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Projects to build")])]),t._v(" "),a("td",[a("code",[t._v("apps/nodejs/textanalytics")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Project runtime")])]),t._v(" "),a("td",[t._v("Node.js")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("ARM Templates")])]),t._v(" "),a("td",[a("code",[t._v("apps/infrastructure/templates/scm-textanalytics-nodejs-common.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("apps/infrastructure/templates/scm-textanalytics-nodejs-infra.json")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“First deploy "),a("code",[t._v("scm-textanalytics-nodejs-common.json")]),t._v(", then deploy "),a("code",[t._v("scm-textanalytics-nodejs-infra.json")])])]),t._v(" "),a("h3",{attrs:{id:"build-data-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-data-4"}},[t._v("#")]),t._v(" Build Data")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Build trigger path filters")])]),t._v(" "),a("td",[a("code",[t._v("day4-azdevops/apps/nodejs/textanalytics/\\*")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-textanalytics-nodejs-common.json")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("code",[t._v("day4-azdevops/apps/infrastructure/templates/scm-textanalytics-nodejs-infra.json")])])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CI Build name")])]),t._v(" "),a("td",[t._v("SCM-Textanalytics-CI")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("PR Build name")])]),t._v(" "),a("td",[t._v("SCM-Textanalytics-PR")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("CD Build name")])]),t._v(" "),a("td",[t._v("SCM-Textanalytics-CD")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-tasks-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-tasks-4"}},[t._v("#")]),t._v(" CD Build Tasks")]),t._v(" "),a("ul",[a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-textanalytics-nodejs-common.json")])]),t._v(" "),a("li",[t._v("ARM template deployment --\x3e "),a("strong",[t._v("scm-textanalytics-nodejs-infra.json")])]),t._v(" "),a("li",[t._v("Azure App Service deploy --\x3e "),a("strong",[t._v("Adc.Scm.Textanalytics.zip")]),t._v(" "),a("ul",[a("li",[t._v("App Service type --\x3e "),a("strong",[t._v("Function App on Linux")])]),t._v(" "),a("li",[t._v("App Service name: --\x3e "),a("strong",[t._v("$(FunctionAppName)")])])])])]),t._v(" "),a("p",[t._v("CD Build agent runs on: "),a("strong",[t._v("Latest Ubuntu version")])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-development-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-development-4"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Development")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-DEV")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ResourceGroupNameFunc")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-FUNC-DEV")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("TextAnalyticsName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4cognitive-dev")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("TextAnalyticsTier")]),t._v(" "),a("td",[t._v("S")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4tadev (no spaces)")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("FunctionAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4tafunc-dev")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Development")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("your Cosmos Account Name of stage Development")]),t._v(" "),a("td",[t._v("Development")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Development")]),t._v(" "),a("td",[t._v("Development")])])])]),t._v(" "),a("h4",{attrs:{id:"cd-build-variables-stage-testing-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd-build-variables-stage-testing-4"}},[t._v("#")]),t._v(" CD Build Variables - Stage "),a("em",[t._v("Testing")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Variable")]),t._v(" "),a("th",[t._v("Value")]),t._v(" "),a("th",[t._v("Scope")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-TEST")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ResourceGroupNameFunc")]),t._v(" "),a("td",[t._v("ADC-DAY4-SCM-FUNC-TEST")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("Location")]),t._v(" "),a("td",[t._v("westeurope")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("TextAnalyticsName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4cognitive-test")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("TextAnalyticsTier")]),t._v(" "),a("td",[t._v("S")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v(" day4tatest (no spaces)")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("FunctionAppName")]),t._v(" "),a("td",[a("strong",[t._v("{prefix}")]),t._v("-day4tafunc-test")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("your ApplicationInsights instance name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("your Cosmos Account Name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])]),t._v(" "),a("tr",[a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("your ServiceBus namespace name of stage Testing")]),t._v(" "),a("td",[t._v("Testing")])])])]),t._v(" "),a("h4",{attrs:{id:"variables-to-arm-template-parameters-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variables-to-arm-template-parameters-2"}},[t._v("#")]),t._v(" Variables to ARM Template Parameters")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“ Make sure that you apply the ARM Template "),a("code",[t._v("scm-textanalytics-nodejs-common.json")]),t._v(" to ResourceGroup "),a("strong",[t._v("ResourceGroupName")]),t._v(" and\nthat you apply the ARM Template "),a("code",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" to ResourceGroup "),a("strong",[t._v("ResourceGroupNameFunc")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("ARM Template")]),t._v(" "),a("th",[t._v("ARM Template Parameter")]),t._v(" "),a("th",[t._v("Variable to use")]),t._v(" "),a("th",[t._v("Deploy to ResourceGroup")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("scm-textanalytics-nodejs-common.json")]),t._v(" "),a("td",[t._v("taname")]),t._v(" "),a("td",[t._v("TextAnalyticsName")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-common.json")]),t._v(" "),a("td",[t._v("tatier")]),t._v(" "),a("td",[t._v("TextAnalyticsTier")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-common.json")]),t._v(" "),a("td",[t._v("storageAccountName")]),t._v(" "),a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[t._v("ResourceGroupName")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("functionAppName")]),t._v(" "),a("td",[t._v("FunctionAppName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("storageAccountName")]),t._v(" "),a("td",[t._v("StorageAccountName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("taname")]),t._v(" "),a("td",[t._v("TextAnalyticsName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("applicationInsightsName")]),t._v(" "),a("td",[t._v("ApplicationInsightsName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("cosmosDbAccount")]),t._v(" "),a("td",[t._v("CosmosDbAccount")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("serviceBusNamespaceName")]),t._v(" "),a("td",[t._v("ServiceBusNamespaceName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])]),t._v(" "),a("tr",[a("td",[t._v("scm-textanalytics-nodejs-infra.json")]),t._v(" "),a("td",[t._v("commonResGroup")]),t._v(" "),a("td",[t._v("ResourceGroupName")]),t._v(" "),a("td",[t._v("ResourceGroupNameFunc")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“ To build SCM Textanalytics we need to use Node.js version 10.x.")])]),t._v(" "),a("h4",{attrs:{id:"ci-build-yaml-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci-build-yaml-4"}},[t._v("#")]),t._v(" CI Build YAML")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/nodejs/textanalytics/*\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("textanalytics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nodejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("common.json\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" day4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("azdevops/apps/infrastructure/templates/scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("textanalytics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("nodejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("infra.json\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NodeTool@0\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("versionSpec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10.x'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Install Node.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Bash@3\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("workingDirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$(Build.SourcesDirectory)/day4-azdevops/apps/nodejs/textanalytics'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inline'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npm install'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ArchiveFiles@2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("displayName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Archive build files'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rootFolderOrFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$(Build.SourcesDirectory)/day4-azdevops/apps/nodejs/textanalytics'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("includeRootFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("archiveType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zip\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("archiveFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)/Adc.Scm.Textanalytics.zip\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replaceExistingArchive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CopyFiles@2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sourceFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" day4/apps/infrastructure/templates\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("contents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n        scm-textanalytics-nodejs-common.json\n        scm-textanalytics-nodejs-infra.json")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetFolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PublishPipelineArtifact@1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $(Build.ArtifactStagingDirectory)\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifactName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" drop\n")])])]),a("h4",{attrs:{id:"arm-template-override-parameters-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arm-template-override-parameters-4"}},[t._v("#")]),t._v(" ARM Template Override Parameters")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("scm-textanalytics-nodejs-common.json")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-taname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("TextAnalyticsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-tatier")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("TextAnalyticsTier"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-storageAccountName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("StorageAccountName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("scm-textanalytics-nodejs-infra.json")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-functionAppName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("FunctionAppName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-storageAccountName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("StorageAccountName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-taname")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("TextAnalyticsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-applicationInsightsName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ApplicationInsightsName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-cosmosDbAccount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("CosmosDbAccount"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-serviceBusNamespaceName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ServiceBusNamespaceName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-commonResGroup")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ResourceGroupName"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“\nMake sure that your AppService deployment task is configured as follows:")]),t._v(" "),a("p",[a("img",{attrs:{src:e(541),alt:"App Service Deployment Task"}})])]),t._v(" "),a("h2",{attrs:{id:"test-the-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#test-the-application"}},[t._v("#")]),t._v(" Test the Application")]),t._v(" "),a("p",[t._v("Now that you have deployed all services to Azure it's time to test it!")]),t._v(" "),a("ul",[a("li",[t._v("Go to the Azure Portal and navigate to the Resource Group "),a("code",[t._v("ADC-DAY4-SCM-DEV")])]),t._v(" "),a("li",[t._v("Open the StorageAccount "),a("em",[a("strong",[t._v("{prefix}")]),t._v(" day4scmfedev")]),t._v(" and go to "),a("em",[t._v("Static website")])]),t._v(" "),a("li",[t._v("Copy the url of the "),a("strong",[t._v("Primary endpoint")])]),t._v(" "),a("li",[t._v("Open a new browser window and paste the url. If everything is configured correctly, the Azure Developer College's Sample Application should work")]),t._v(" "),a("li",[t._v("Try to add some Contacts, add Avatars and create VisitReports")]),t._v(" "),a("li",[t._v("If you want you can check the Testing stage, too")])]),t._v(" "),a("h2",{attrs:{id:"application-insights"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application-insights"}},[t._v("#")]),t._v(" Application Insights")]),t._v(" "),a("p",[t._v("Now that we have created some test data, go to the "),a("em",[t._v("Application Insights")]),t._v(" instance of your Development stage and open the "),a("em",[t._v("Application Map")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ðŸ“If nothing is displayed, wait some minutes, it takes ts time until all data is pushed to ApplicationInsights.")])]),t._v(" "),a("p",[t._v("With Application Insights, Azure Monitor offers a "),a("em",[t._v("distributed tracing")]),t._v(" solution that makes a developerâ€™s live easier. Application Insights offers an application map view which aggregates many transactions to show a topological view of how the systems interact, and what the average performance and error rates are.")]),t._v(" "),a("p",[t._v("Take some time and look at the map to see what information an operator can get from it.")]),t._v(" "),a("p",[a("img",{attrs:{src:e(542),alt:"ApplicationMap"}})]),t._v(" "),a("p",[t._v("Now navigate to the "),a("em",[t._v("Performance")]),t._v(" view. Here you find all details about operations and dependencies of your services.\nIn the upper panel you can apply filters to investigate your telemetry:")]),t._v(" "),a("p",[a("img",{attrs:{src:e(543),alt:"Performance Filter"}})]),t._v(" "),a("p",[t._v("Check out some details about the SCM API operations:")]),t._v(" "),a("p",[a("img",{attrs:{src:e(544),alt:"Operations"}})]),t._v(" "),a("p",[t._v('Drill into a sample and see the "End-to-End transaction":')]),t._v(" "),a("p",[a("img",{attrs:{src:e(545),alt:"Sample"}})]),t._v(" "),a("h2",{attrs:{id:"congratulation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#congratulation"}},[t._v("#")]),t._v(" Congratulation")]),t._v(" "),a("p",[t._v("ðŸ¥³ "),a("strong",[t._v("Congratulation")]),t._v(" - You've done it! ðŸ¥³")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/day4-azdevops/challenges/challenge-5.html"}},[t._v("â—€ Previous challenge")]),t._v(" | "),a("RouterLink",{attrs:{to:"/day4-azdevops/"}},[t._v("ðŸ”¼ Day 4")]),t._v(" |")],1)])}),[],!1,null,null,null);a.default=r.exports}}]);