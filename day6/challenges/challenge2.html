<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Challenge 2: Container 101 | Azure Developer College</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/trainingdays/assets/css/0.styles.8d7a09fd.css" as="style"><link rel="preload" href="/trainingdays/assets/js/app.7ee90653.js" as="script"><link rel="preload" href="/trainingdays/assets/js/3.bac66e4c.js" as="script"><link rel="preload" href="/trainingdays/assets/js/56.357453fe.js" as="script"><link rel="prefetch" href="/trainingdays/assets/js/10.e245022a.js"><link rel="prefetch" href="/trainingdays/assets/js/11.e575ca81.js"><link rel="prefetch" href="/trainingdays/assets/js/12.4af6743d.js"><link rel="prefetch" href="/trainingdays/assets/js/13.0b26a6a5.js"><link rel="prefetch" href="/trainingdays/assets/js/14.2d92fef8.js"><link rel="prefetch" href="/trainingdays/assets/js/15.a191ca69.js"><link rel="prefetch" href="/trainingdays/assets/js/16.405c54e2.js"><link rel="prefetch" href="/trainingdays/assets/js/17.43731ef2.js"><link rel="prefetch" href="/trainingdays/assets/js/18.2984f726.js"><link rel="prefetch" href="/trainingdays/assets/js/19.a9d0edc3.js"><link rel="prefetch" href="/trainingdays/assets/js/2.0be5b509.js"><link rel="prefetch" href="/trainingdays/assets/js/20.7cffd4b4.js"><link rel="prefetch" href="/trainingdays/assets/js/21.e7fe4a64.js"><link rel="prefetch" href="/trainingdays/assets/js/22.9b14db9d.js"><link rel="prefetch" href="/trainingdays/assets/js/23.441bbca6.js"><link rel="prefetch" href="/trainingdays/assets/js/24.9c4549d9.js"><link rel="prefetch" href="/trainingdays/assets/js/25.5746a249.js"><link rel="prefetch" href="/trainingdays/assets/js/26.b54d0910.js"><link rel="prefetch" href="/trainingdays/assets/js/27.17fc5e8f.js"><link rel="prefetch" href="/trainingdays/assets/js/28.dc06e268.js"><link rel="prefetch" href="/trainingdays/assets/js/29.2c678e32.js"><link rel="prefetch" href="/trainingdays/assets/js/30.da2d71da.js"><link rel="prefetch" href="/trainingdays/assets/js/31.2d6231d3.js"><link rel="prefetch" href="/trainingdays/assets/js/32.de802251.js"><link rel="prefetch" href="/trainingdays/assets/js/33.e1098fb7.js"><link rel="prefetch" href="/trainingdays/assets/js/34.b6d29e40.js"><link rel="prefetch" href="/trainingdays/assets/js/35.4c61bb7b.js"><link rel="prefetch" href="/trainingdays/assets/js/36.336fcd60.js"><link rel="prefetch" href="/trainingdays/assets/js/37.772f2fe7.js"><link rel="prefetch" href="/trainingdays/assets/js/38.ba3ea198.js"><link rel="prefetch" href="/trainingdays/assets/js/39.52fb19ee.js"><link rel="prefetch" href="/trainingdays/assets/js/4.d015fbd5.js"><link rel="prefetch" href="/trainingdays/assets/js/40.354e399e.js"><link rel="prefetch" href="/trainingdays/assets/js/41.ec595a2b.js"><link rel="prefetch" href="/trainingdays/assets/js/42.48bed577.js"><link rel="prefetch" href="/trainingdays/assets/js/43.11938683.js"><link rel="prefetch" href="/trainingdays/assets/js/44.acddabd3.js"><link rel="prefetch" href="/trainingdays/assets/js/45.a2916451.js"><link rel="prefetch" href="/trainingdays/assets/js/46.95911633.js"><link rel="prefetch" href="/trainingdays/assets/js/47.c267ffc1.js"><link rel="prefetch" href="/trainingdays/assets/js/48.37cfbfe4.js"><link rel="prefetch" href="/trainingdays/assets/js/49.9fc08260.js"><link rel="prefetch" href="/trainingdays/assets/js/5.66f1ef82.js"><link rel="prefetch" href="/trainingdays/assets/js/50.f621e07d.js"><link rel="prefetch" href="/trainingdays/assets/js/51.e77f724a.js"><link rel="prefetch" href="/trainingdays/assets/js/52.c0052e39.js"><link rel="prefetch" href="/trainingdays/assets/js/53.2fe21a43.js"><link rel="prefetch" href="/trainingdays/assets/js/54.6d6dd706.js"><link rel="prefetch" href="/trainingdays/assets/js/55.de3427a7.js"><link rel="prefetch" href="/trainingdays/assets/js/57.2b8c0b9b.js"><link rel="prefetch" href="/trainingdays/assets/js/58.34c86dce.js"><link rel="prefetch" href="/trainingdays/assets/js/59.20afb7e5.js"><link rel="prefetch" href="/trainingdays/assets/js/6.bd3d8f89.js"><link rel="prefetch" href="/trainingdays/assets/js/60.cf52ab3d.js"><link rel="prefetch" href="/trainingdays/assets/js/61.b7ff488e.js"><link rel="prefetch" href="/trainingdays/assets/js/62.2451e01f.js"><link rel="prefetch" href="/trainingdays/assets/js/63.d86a5b86.js"><link rel="prefetch" href="/trainingdays/assets/js/64.608921b5.js"><link rel="prefetch" href="/trainingdays/assets/js/65.d90b3114.js"><link rel="prefetch" href="/trainingdays/assets/js/66.49c6fbd9.js"><link rel="prefetch" href="/trainingdays/assets/js/67.4f60f26b.js"><link rel="prefetch" href="/trainingdays/assets/js/68.208402a2.js"><link rel="prefetch" href="/trainingdays/assets/js/69.a980b450.js"><link rel="prefetch" href="/trainingdays/assets/js/7.fc9a0f7c.js"><link rel="prefetch" href="/trainingdays/assets/js/70.cf4f53b8.js"><link rel="prefetch" href="/trainingdays/assets/js/71.55c061b2.js"><link rel="prefetch" href="/trainingdays/assets/js/72.7cc4b8ba.js"><link rel="prefetch" href="/trainingdays/assets/js/73.71f272fd.js"><link rel="prefetch" href="/trainingdays/assets/js/74.d9324332.js"><link rel="prefetch" href="/trainingdays/assets/js/75.22202aba.js"><link rel="prefetch" href="/trainingdays/assets/js/76.79e1fda3.js"><link rel="prefetch" href="/trainingdays/assets/js/77.09f6ecf5.js"><link rel="prefetch" href="/trainingdays/assets/js/78.40383fd1.js"><link rel="prefetch" href="/trainingdays/assets/js/79.c5447221.js"><link rel="prefetch" href="/trainingdays/assets/js/8.45342290.js"><link rel="prefetch" href="/trainingdays/assets/js/80.5cf25ae5.js"><link rel="prefetch" href="/trainingdays/assets/js/81.e3653e94.js"><link rel="prefetch" href="/trainingdays/assets/js/82.e34ef379.js"><link rel="prefetch" href="/trainingdays/assets/js/83.a86bfa1d.js"><link rel="prefetch" href="/trainingdays/assets/js/84.147161c7.js"><link rel="prefetch" href="/trainingdays/assets/js/85.ee46661f.js"><link rel="prefetch" href="/trainingdays/assets/js/86.b933c088.js"><link rel="prefetch" href="/trainingdays/assets/js/87.0b4539ef.js"><link rel="prefetch" href="/trainingdays/assets/js/9.235ee99d.js">
    <link rel="stylesheet" href="/trainingdays/assets/css/0.styles.8d7a09fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/trainingdays/" class="home-link router-link-active"><!----> <span class="site-name">Azure Developer College</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/trainingdays/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/trainingdays/day1/" class="sidebar-link">Day 1 Azure Fundamentals &amp; Infrastructure</a></li><li><a href="/trainingdays/day2/" class="sidebar-link">Day 2 Azure Development</a></li><li><a href="/trainingdays/day3/" class="sidebar-link">Day 3 Data and AI</a></li><li><a href="/trainingdays/day4/" class="sidebar-link">Day 4 DevOps and Monitoring</a></li><li><a href="/trainingdays/day5/" class="sidebar-link">Day 5 Identity and Architecture</a></li><li><a href="/trainingdays/day6/" aria-current="page" class="sidebar-link">Day 6 Containerization</a></li><li><a href="/trainingdays/day7/" class="sidebar-link">Day 7 Kubernetes</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="challenge-2-container-101"><a href="#challenge-2-container-101" class="header-anchor">#</a> Challenge 2: Container 101</h1> <h2 id="here-is-what-you-ll-learn"><a href="#here-is-what-you-ll-learn" class="header-anchor">#</a> Here is what you'll learn</h2> <ul><li>Checking container logs</li> <li>Listing running processes inside container</li> <li>Checking container's resource usage</li> <li>Limiting container's cpu and memory usage</li> <li>Setting environment variables</li></ul> <p>In this challenge, we're gonna go a little bit deeper and learn how to use native Docker commands to play with containers without connecting them.</p> <h2 id="exercises"><a href="#exercises" class="header-anchor">#</a> Exercises</h2> <p><strong>1: First let's create a couple of containers</strong></p><details><summary>Click to expand!</summary><p></p> <p>Open your terminal and type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> con1 <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 nginx 
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>501ff8e64847a6ac9510761f42a3c1ebe2aee20f0e3e78752d04056eb941a8c1
</code></pre></div><p>We have created a container called <code>con1</code> with <code>-d</code> option from the image <code>nginx:latest</code>. As you remember, -d means run it in background. Nginx is an open source reverse proxy-webserver daemon. When you create a container from that image, nginx webserver daemon runs and starts to listen on tcp port 80. Nginx is a service, not one time application, so when it starts, it continues to run. Hence, the container is up and running too. With <code>-p 80:80</code> option, we instructed to Docker that we want to forward host's TCP 80 port to container's TCP 80 port. Any request that reaches to host's 80 port will be forwarded to the container. If you open a web browser on the host and type <code>http://127.0.0.1</code>, you'll access the website running inside this container. We'll come to network details later.</p> <img src="/trainingdays/assets/img/nginx.e05b6af4.png"> <p>Now let's keep this container as is and create another one. This time we're gonna create a task container. One time application will start when container will start, it will do its own thing and close, so the container will close too. We're gonna run this container detached too.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> con2 chuanwen/cowsay
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Unable to <span class="token function">find</span> image <span class="token string">'chuanwen/cowsay:latest'</span> locally
latest: Pulling from chuanwen/cowsay
99ad4e3ced4d: Pull complete
ec5a723f4e2a: Pull complete
2a175e11567c: Pull complete
8d26426e95e0: Pull complete
46e451596b7c: Pull complete
c337767f8c73: Pull complete
Digest: sha256:1f7a652a47fe7311c7e201644d44682e11e7ae4d3d7b03c1ce5c0df164de205c
Status: Downloaded newer image <span class="token keyword">for</span> chuanwen/cowsay:latest
385b768034d531ca050b0334f359cc29cfa3077d479a143634fe23b1acf4c55e
</code></pre></div><p>We've created 2 containers named <code>con1</code> and <code>con2</code>. Con1 is still running but con2 is exited because the running process inside the container has done its job and exited. Let's check them.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                    PORTS                NAMES
385b768034d5        chuanwen/cowsay     <span class="token string">&quot;/bin/sh -c '/usr/ga‚Ä¶&quot;</span>   <span class="token number">11</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">1</span> hour ago                        con2
501ff8e64847        nginx               <span class="token string">&quot;/docker-entrypoint.‚Ä¶&quot;</span>   <span class="token number">11</span> hours ago        Up <span class="token number">1</span> hour               <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   con1
</code></pre></div><p>Don't delete these containers now, we need them on the next exercise.
</p></details><p></p> <hr> <p><strong>2: Docker logs</strong></p><details><summary>Click to expand!</summary><p></p> <p>We've created 2 containers a few minutes ago. We've created them with <code>-d</code> option which allowed us to run them in the background. But therefore, we couldn't see any messages or logs generated by these containers. Now it's time to see what's going on. Let start with <code>con2</code> and the command that we will use is <code>docker logs</code></p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> logs con2
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code> ________________________________________
/ No one so thoroughly appreciates the   <span class="token punctuation">\</span>
<span class="token operator">|</span> value of constructive criticism as the <span class="token operator">|</span>
<span class="token operator">|</span> one who's giving it.                   <span class="token operator">|</span>
<span class="token operator">|</span>                                        <span class="token operator">|</span>
<span class="token punctuation">\</span> -- Hal Chadwick                        /
 ----------------------------------------
        <span class="token punctuation">\</span>   ^__^
         <span class="token punctuation">\</span>  <span class="token punctuation">(</span>oo<span class="token punctuation">)</span><span class="token punctuation">\</span>_______
            <span class="token punctuation">(</span>__<span class="token punctuation">)</span><span class="token punctuation">\</span>       <span class="token punctuation">)</span><span class="token punctuation">\</span>/<span class="token punctuation">\</span>
                <span class="token operator">||</span>----w <span class="token operator">|</span>
                <span class="token operator">||</span>     <span class="token operator">||</span>
</code></pre></div><p>The cow said some wise things üòÉ But, when did it say these? To learn that, we can use <code>-t</code> option, which also adds timestamps to each generated log line.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> logs <span class="token parameter variable">-t</span> con2
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">2020</span>-06-03T00:46:16.592712600Z  ________________________________________
<span class="token number">2020</span>-06-03T00:46:16.592752800Z / No one so thoroughly appreciates the   <span class="token punctuation">\</span>
<span class="token number">2020</span>-06-03T00:46:16.592755800Z <span class="token operator">|</span> value of constructive criticism as the <span class="token operator">|</span>
<span class="token number">2020</span>-06-03T00:46:16.592757700Z <span class="token operator">|</span> one who's giving it.                   <span class="token operator">|</span>
<span class="token number">2020</span>-06-03T00:46:16.592759500Z <span class="token operator">|</span>                                        <span class="token operator">|</span>
<span class="token number">2020</span>-06-03T00:46:16.592761300Z <span class="token punctuation">\</span> -- Hal Chadwick                        /
<span class="token number">2020</span>-06-03T00:46:16.592763200Z  ----------------------------------------
<span class="token number">2020</span>-06-03T00:46:16.592765200Z         <span class="token punctuation">\</span>   ^__^
<span class="token number">2020</span>-06-03T00:46:16.592767200Z          <span class="token punctuation">\</span>  <span class="token punctuation">(</span>oo<span class="token punctuation">)</span><span class="token punctuation">\</span>_______
<span class="token number">2020</span>-06-03T00:46:16.592769100Z             <span class="token punctuation">(</span>__<span class="token punctuation">)</span><span class="token punctuation">\</span>       <span class="token punctuation">)</span><span class="token punctuation">\</span>/<span class="token punctuation">\</span>
<span class="token number">2020</span>-06-03T00:46:16.592771100Z                 <span class="token operator">||</span>----w <span class="token operator">|</span>
<span class="token number">2020</span>-06-03T00:46:16.592773000Z                 <span class="token operator">||</span>     <span class="token operator">||</span>
</code></pre></div><p>What if this was a long log and we just wanted to see the last couple of lines instead of the whole log output? We can use <code>--tail</code> option for that.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> logs <span class="token parameter variable">--tail</span> <span class="token number">5</span> con2
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>        <span class="token punctuation">\</span>   ^__^
         <span class="token punctuation">\</span>  <span class="token punctuation">(</span>oo<span class="token punctuation">)</span><span class="token punctuation">\</span>_______
            <span class="token punctuation">(</span>__<span class="token punctuation">)</span><span class="token punctuation">\</span>       <span class="token punctuation">)</span><span class="token punctuation">\</span>/<span class="token punctuation">\</span>
                <span class="token operator">||</span>----w <span class="token operator">|</span>
                <span class="token operator">||</span>     <span class="token operator">||</span>
</code></pre></div><p>Let's start playing with <code>con1</code>. Con1 is a nginx web daemon and it's running at the moment. Sometimes you want to check the logs live, while things are happening. To be able to do that, we can use <code>-f</code> option. This allows us to attach to the log and follow it in real time. First;</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> logs <span class="token parameter variable">-f</span> con1
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking <span class="token keyword">for</span> shell scripts <span class="token keyword">in</span> /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: Getting the checksum of /etc/nginx/conf.d/default.conf
<span class="token number">10</span>-listen-on-ipv6-by-default.sh: Enabled listen on IPv6 <span class="token keyword">in</span> /etc/nginx/conf.d/default.conf
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Configuration complete<span class="token punctuation">;</span> ready <span class="token keyword">for</span> start up
<span class="token number">172.17</span>.0.1 - - <span class="token punctuation">[</span>03/Aug/2020:00:54:51 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET / HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">612</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.50&quot;</span> <span class="token string">&quot;-&quot;</span>
<span class="token number">2020</span>/06/03 00:54:51 <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token number">28</span><span class="token comment">#28: *1 open() &quot;/usr/share/nginx/html/favicon.ico&quot; failed (2: No such file or directory), client: 172.17.0.1, server: localhost, request: &quot;GET /favicon.ico HTTP/1.1&quot;, host: &quot;127.0.0.1&quot;, referrer: &quot;http://127.0.0.1/&quot;</span>
<span class="token number">172.17</span>.0.1 - - <span class="token punctuation">[</span>03/Jun/2020:00:54:51 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET /favicon.ico HTTP/1.1&quot;</span> <span class="token number">404</span> <span class="token number">555</span> <span class="token string">&quot;http://127.0.0.1/&quot;</span> <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.50&quot;</span> <span class="token string">&quot;-&quot;</span>
<span class="token number">172.17</span>.0.1 - - <span class="token punctuation">[</span>03/Jun/2020:10:45:47 +0000<span class="token punctuation">]</span> <span class="token string">&quot;GET / HTTP/1.1&quot;</span> <span class="token number">304</span> <span class="token number">0</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.50&quot;</span> <span class="token string">&quot;-&quot;</span>
</code></pre></div><p>Now we're attached to the log. Open a browser and visit <code>http://127.0.0.1</code> and refresh the page a couple of times. Then turn back to terminal and you'll see new logs generated. You can follow them in real time. You can cut the connection to the log by typing <code>CTRL + C</code> when you're done.
</p></details><p></p> <hr> <p><strong>3: Docker top and stats</strong></p><details><summary>Click to expand!</summary><p></p> <p>In this exercise, we'll take a look at <code>docker stats</code> and <code>docker top</code> commands. First let's get started with <code>docker top</code>. This command allows us to check which processes are running in a container. It's equivilant of <code>ps</code> Linux command but you don't need connect to execute this. Instead of that you can get the same result with <code>docker top</code>. Let's try it on <code>con1</code>, which is still running.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> <span class="token function">top</span> con1
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>PID                 <span class="token environment constant">USER</span>                TIME                COMMAND
<span class="token number">2345</span>                root                <span class="token number">0</span>:00                nginx: master process nginx <span class="token parameter variable">-g</span> daemon off<span class="token punctuation">;</span>
<span class="token number">2404</span>                <span class="token number">101</span>                 <span class="token number">0</span>:00                nginx: worker process
</code></pre></div><p>But if you execute the same command for <code>con2</code> you're gonna get an error because <code>con2</code> is not up and running at the moment.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> <span class="token function">top</span> con2
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Error response from daemon: Container 385b768034d531ca050b0334f359cc29cfa3077d479a143634fe23b1acf4c55e is not running
</code></pre></div><p>That was how we can see running processes in the container. Now it's time to check container's resource usage. For that, we're gonna use <code>docker stats</code> command. If you type <code>docker stats</code> without any option, it'll start showing all the running containers' resource usage stats. But you can also just check single container's resource usage by adding container name or id to the command, something like <code>docker stats con1</code>. Let's try that.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> stats con1
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT     MEM %               NET I/O             BLOCK I/O           PIDS
501ff8e64847        con1                <span class="token number">0.00</span>%               <span class="token number">3</span>.918MiB / <span class="token number">7</span>.574GiB   <span class="token number">0.05</span>%               <span class="token number">8</span>.9kB / <span class="token number">5</span>.27kB      0B / 0B             <span class="token number">2</span>
</code></pre></div><p><code>CTRL + C</code>  will allow you to turn back to terminal from this view.
</p></details><p></p> <hr> <p><strong>4: CPU and Memory consumption limits</strong></p><details><summary>Click to expand!</summary><p></p> <p>It isn't wise to run any container on any production system without limiting its cpu and memory usage. If we don't limit container's memory and cpu usage, due to a faulty process or load, the container may start using all the system resources of the host where it's running. This means that all the other containers and processes on that node would crash. Docker allows us to limit any container's memory and cpu usage. Memory part is relatively easy. You can specify maximum amount of ram that container can access. For example <code>--memory=512M</code> option dedicates 512 Megabyte of Ram. Memory option takes a positive integer, followed by a suffix of b, k, m, g, to indicate bytes, kilobytes, megabytes, or gigabytes. Also you can use <code>--memory-swap</code> option to set the amount of memory this container is allowed to swap to disk. Let's try to create a new container with restricted memory.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$  <span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--memory</span><span class="token operator">=</span>512M <span class="token parameter variable">--name</span> con3 nginx
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>9d9980bc1ba2dcbc72d30a1b62b4c69c9f0ba1c745a6ba7a098a1a9811068742
</code></pre></div><p>You may use <code>docker stats con3</code> command to see that container started with limited memory.</p> <img src="data:image/png;base64,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"> <p>As said, memory is relatively easy. Actually limiting the cpu is also easy but there isn't something like &quot;just access to 200 Mhz of the CPU&quot; üòÉ. Cpu limits are not the same as memory limits. You can't specify the amount of CPU power. Instead of that, you can only specify which cpu core that container can access or not. If you don't specify that, by default, any container can access to all cpu cores of the host. <code>‚Äìcpus</code> option allows us to limit maximum number of cores that container can access. For example, <code>‚Äìcpus=‚Äú3‚Äù</code> means that container can only access 3 cpu cores of the host. There is another option which is <code>--cpuset-cpus=</code>. This allows us to restrict the container to specific cpu cores. For example, <code>--cpuset-cpus=‚Äú1,3‚Äù</code>  means that container can only use core number 1 and core number 3 on that host. Let's try these and create 2 new containers with limited cpu.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--cpus</span><span class="token operator">=</span><span class="token string">&quot;3&quot;</span> <span class="token parameter variable">--name</span> con4 nginx
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>fba14e8a88ffa8f85ed904dd72901fd30da80bb9fe47bcac0ff4a4d44f385cfe
</code></pre></div><p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container run <span class="token parameter variable">-d</span> --cpuset-cpus<span class="token operator">=</span><span class="token string">&quot;1,3&quot;</span> <span class="token parameter variable">--name</span> con5 nginx
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>2f1e7477a628c8ae3084166759987ead5456641451a03450cd7fcbcb1004afb9
</code></pre></div></details> <hr> <p><strong>5: Environment Variables</strong></p><details><summary>Click to expand!</summary><p></p> <blockquote><p>An environment variable is a dynamic-named value that can affect the way running processes will behave on a computer. They are part of the environment in which a process runs. For example, a running process can query the value of the TEMP environment variable to discover a suitable location to store temporary files, or the HOME or USERPROFILE variable to find the directory structure owned by the user running the process. *Wikipedia</p></blockquote> <p>Docker allows us to set environment variables in containers while creating them. There are 2 ways to set environment variables in a container. First one is <code>--env</code> option. Type <code>--env</code> and after that set the key=value. This creates the key as an environment variable and sets the value as its value. You can use multiple <code>--env</code> options to set multiple environment variables. But if you need to set long list of environment variables, you may create a file and put all the key=value pairs in it and use <code>--env-file</code> option to set all of these environment variables as bulk. It's now time to try that. First, we're gonna create a new container from ubuntu image. While doing that, we'll set couple of enviroment variables. And instead of the default application, we're gonna instruct to run <code>printenv</code> command and this will list all the enviroment variables of this container.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container run <span class="token parameter variable">--name</span> env_test1  <span class="token parameter variable">--env</span> <span class="token assign-left variable">KEY1</span><span class="token operator">=</span>value <span class="token parameter variable">--env</span> <span class="token assign-left variable">name</span><span class="token operator">=</span>test <span class="token parameter variable">--env</span> <span class="token assign-left variable">database_server</span><span class="token operator">=</span>test.contoso.com ubuntu <span class="token function">printenv</span>
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span>7d4d2c92c617
<span class="token assign-left variable">KEY1</span><span class="token operator">=</span>value
<span class="token assign-left variable">name</span><span class="token operator">=</span>test
<span class="token assign-left variable">database_server</span><span class="token operator">=</span>test.contoso.com
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root
</code></pre></div><p>We've created a new container named <code>env_test</code> and set 3 new enviroment variables. But instead of setting these one by one, we could create a file and put all the key=value pairs in it and use <code>--env-file</code> option to set all of these environment variables as bulk. Let's try that. First create a file named <code>env.list</code> and put these enviroment variables in it line by line and save the file.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">KEY1</span><span class="token operator">=</span>value
<span class="token assign-left variable">name</span><span class="token operator">=</span>test
<span class="token assign-left variable">database_server</span><span class="token operator">=</span>test.contoso.com
</code></pre></div><p>Open the terminal and cd to folder where you saved this file.</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container run <span class="token parameter variable">--name</span> env_test2  --env-file env.list ubuntu <span class="token function">printenv</span>
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span>070f264ef277
<span class="token assign-left variable">KEY1</span><span class="token operator">=</span>value
<span class="token assign-left variable">name</span><span class="token operator">=</span>test
<span class="token assign-left variable">database_server</span><span class="token operator">=</span>test.contoso.com
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root
</code></pre></div><p>Let's delete the containers that have been created so far</p> <p>Type:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">docker</span> container <span class="token function">rm</span> <span class="token parameter variable">-f</span> con1 con2 con3 con4 con5 env_test1 env_test2
</code></pre></div><p>Output will be something like:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>con1
con2
con3
con4
con5
env_test1
env_test2
</code></pre></div></details> <hr> <h2 id="wrap-up"><a href="#wrap-up" class="header-anchor">#</a> Wrap up</h2> <p><strong>Congratulations</strong> you have completed the Container 101 challenge and learned a couple of very essential Docker commands.</p> <p>*** Reference: https://docs.docker.com</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azuredevcollege/trainingdays/edit/master/day6/challenges/challenge2.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/trainingdays/assets/js/app.7ee90653.js" defer></script><script src="/trainingdays/assets/js/3.bac66e4c.js" defer></script><script src="/trainingdays/assets/js/56.357453fe.js" defer></script>
  </body>
</html>
